[td] emphasize errors due to user transactions (#24413) · MystenLabs/sui@6c229fe · GitHub



[Skip to content](#start-of-content)








## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMystenLabs%2Fsui%2Fcommit%2F6c229fe6c04fb21ec98751c798e57e9a00e028e2)

Appearance settings

Search or jump to...


# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.


Include my email address so I can be contacted

Cancel
 Submit feedback





# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel
 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMystenLabs%2Fsui%2Fcommit%2F6c229fe6c04fb21ec98751c798e57e9a00e028e2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommit%2Fshow&source=header-repo&source_repo=MystenLabs%2Fsui)

Appearance settings

Resetting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
 


Dismiss alert

{{ message }}

[MystenLabs](/MystenLabs) 
/
**[sui](/MystenLabs/sui)**
Public

* [Notifications](/login?return_to=%2FMystenLabs%2Fsui) You must be signed in to change notification settings
* [Fork
  11.7k](/login?return_to=%2FMystenLabs%2Fsui)
* [Star
   7.5k](/login?return_to=%2FMystenLabs%2Fsui)

# Commit 6c229fe

[Browse files](/MystenLabs/sui/tree/6c229fe6c04fb21ec98751c798e57e9a00e028e2)Browse files

[![mwtian](https://avatars.githubusercontent.com/u/81660174?v=4&size=40)](/mwtian)[mwtian](/MystenLabs/sui/commits?author=mwtian)

committed

[td] emphasize errors due to user transactions ([#24413](https://github.com/MystenLabs/sui/pull/24413))

## Description
Make it more obvious that the error is not due to operator actions.
## Test plan
CI

```move
1 parent 53dc022 commit 6c229fe

Copy full SHA for 6c229fe
```

## File tree

Expand file treeCollapse file tree

## 1 file changed

+3

-3

lines changed

Open diff view settings

Filter options

* crates/sui-core/src/transaction\_driver

  + [mod.rs](#diff-b0171ce11cd8501f8dbaf5a15619d42944d5d7d0950c61c138bd39101b52bcac)

Expand file treeCollapse file tree

## 1 file changed

+3

-3

lines changed

Open diff view settings

Collapse file

### [`‎crates/sui-core/src/transaction_driver/mod.rs‎`](#diff-b0171ce11cd8501f8dbaf5a15619d42944d5d7d0950c61c138bd39101b52bcac)

Copy file name to clipboardExpand all lines: crates/sui-core/src/transaction\_driver/mod.rs

+3-3Lines changed: 3 additions & 3 deletions

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -219,7 +219,7 @@ where` | | | |
| `219` | `219` | `.observe(attempts as f64);` |
| `220` | `220` | `if request.transaction.is_some() {` |
| `221` | `221` | `tracing::info!(` |
| `222` |  | `- "Failed to finalize transaction with non-retriable error after {} attempts: {}",` |
|  | `222` | `+ "User transaction failed to finalize (attempt {}), with non-retriable error: {}",` |
| `223` | `223` | `attempts,` |
| `224` | `224` | `e` |
| `225` | `225` | `);` |
| `@@ -228,7 +228,7 @@ where` | | | |
| `228` | `228` | `}` |
| `229` | `229` | `if request.transaction.is_some() {` |
| `230` | `230` | `tracing::info!(` |
| `231` |  | `- "Failed to finalize transaction (attempt {}): {}. Retrying ...",` |
|  | `231` | `+ "User transaction failed to finalize (attempt {}): {}. Retrying ...",` |
| `232` | `232` | `attempts,` |
| `233` | `233` | `e` |
| `234` | `234` | `);` |
| `@@ -269,7 +269,7 @@ where` | | | |
| `269` | `269` | `};` |
| `270` | `270` | `if request.transaction.is_some() {` |
| `271` | `271` | `tracing::info!(` |
| `272` |  | `- "Transaction timed out after {} attempts. Last error: {}",` |
|  | `272` | `+ "User transaction timed out after {} attempts. Last error: {}",` |
| `273` | `273` | `attempts,` |
| `274` | `274` | `e` |
| `275` | `275` | `);` |
|  | | | |

## 0 commit comments

Comments

0 (0)

You can’t perform that action at this time.