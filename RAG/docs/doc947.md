[v1.60] Cherry pick 23913 (#24198) · MystenLabs/sui@49d95e9 · GitHub



[Skip to content](#start-of-content)








## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMystenLabs%2Fsui%2Fcommit%2F49d95e90e36ea0f2e20a74e23843ada90ce4a3bc)

Appearance settings

Search or jump to...


# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.


Include my email address so I can be contacted

Cancel
 Submit feedback





# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel
 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMystenLabs%2Fsui%2Fcommit%2F49d95e90e36ea0f2e20a74e23843ada90ce4a3bc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommit%2Fshow&source=header-repo&source_repo=MystenLabs%2Fsui)

Appearance settings

Resetting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
 


Dismiss alert

{{ message }}

[MystenLabs](/MystenLabs) 
/
**[sui](/MystenLabs/sui)**
Public

* [Notifications](/login?return_to=%2FMystenLabs%2Fsui) You must be signed in to change notification settings
* [Fork
  11.7k](/login?return_to=%2FMystenLabs%2Fsui)
* [Star
   7.5k](/login?return_to=%2FMystenLabs%2Fsui)

# Commit 49d95e9

[Browse files](/MystenLabs/sui/tree/49d95e90e36ea0f2e20a74e23843ada90ce4a3bc)Browse files

[![tnowacki](https://avatars.githubusercontent.com/u/1753366?v=4&size=40)](/tnowacki)[tnowacki](/MystenLabs/sui/commits?author=tnowacki)

authored

[v1.60] Cherry pick 23913 ([#24198](https://github.com/MystenLabs/sui/pull/24198))

## Description
- Cherry pick [#23913](https://github.com/MystenLabs/sui/pull/23913)
- Let's start logging any issues with the new reference safety verifier
## Test plan
- Just a signing check
- ran tests (had to remove some old global storage ones)
---
## Release notes
Check each box that your changes affect. If none of the boxes relate to
your changes, release notes aren't required.
For each box you select, include information after the relevant heading
that describes the impact of your changes that a user might notice and
any actions they must take to implement updates.
- [ ] Protocol:
- [ ] Nodes (Validators and Full nodes):
- [ ] gRPC:
- [ ] JSON-RPC:
- [ ] GraphQL:
- [ ] CLI:
- [ ] Rust SDK:

```move
1 parent 58f2c2f commit 49d95e9

Copy full SHA for 49d95e9
```

## File tree

Expand file treeCollapse file tree

## 31 files changed

+1461

-67

lines changed

Open diff view settings

Filter options

* [Cargo.lock](#diff-13ee4b2252c9e516a0547f2891aa2105c3ca71c6d7a1e682c69be97998dfc87e)
* crates

  + sui-config/src

    - [verifier\_signing\_config.rs](#diff-24b60f4d13959d42f7d988fc56ab8f191785772dd3879baa00dcffbfc68dbc48)
  + sui-protocol-config/src

    - [lib.rs](#diff-192add9c4d4ccc2ca9fc09a7309312d12593d58089ad08f51d17fa4b312719a2)
  + sui-swarm-config/tests/snapshots

    - [snapshot\_tests\_\_network\_config\_snapshot\_matches.snap](#diff-374913f0258ca6b4bf4a7fb97837cba79d952314e73716b967a307ea04a96e43)
  + sui/src

    - [client\_commands.rs](#diff-54526361851ee1890c62aa4e80af4a861b76db01386c3760de9f2fcc979432e4)
* external-crates/move

  + [Cargo.lock](#diff-bf55bb4557546ab9e06917e30a96668a321ceb607dca60176011f4bedbec4eee)
  + crates

    - bytecode-verifier-tests

      * src/unit\_tests

        + [binary\_samples.rs](#diff-9ebb4d2f587959656dd31911481d53c92ead4751c0af577b76f6bc004fb003aa)
        + [mod.rs](#diff-8d771fffa482597c22429d35ee9d3799eda3a5e6a8860b20b83d08fcc610b293)
        + [reference\_safety\_tests.rs](#diff-1be478528d59457802bdcec5658ebd6a8d0098bd6c046615c37e21989dfc6cf8)
      * tests/binaries

        + [aptosd\_swap.bytes](#diff-d6d8fa970b84eac961f7ead3877ee81aded2bfa9abb1f3391dec734c7a73bed6)
        + [coin\_store.bytes](#diff-d0125968b4beaf247e1135b892f5454b8513b15583bda3ffdf9a7a6bf6f7f95c)
        + [farming.bytes](#diff-b6111090351f7b24855d533e9ca104001fc85e2e7fb22452d28e80cb5b1c2e23)
        + [liquidity\_pool.bytes](#diff-5a25ad71d627848cc8c18561fe5204b8db68a1707355d57384c6d35c4c5bb05a)
        + [pool.bytes](#diff-f40592e962a520b098afc29df77ec575bff1119512b79263ff31acea0dc637ac)
        + [price\_oracle.bytes](#diff-89462c507854d561c318a10bd3c63a1ed63a1e14af2404f2e2161860eba4ad23)
        + [whitelist.bytes](#diff-dd2bcb36d680346176c34704fd7d028f04da738a87cf7ba76a1de7adc7d6387e)
    - move-bytecode-verifier

      * [Cargo.toml](#diff-8dc9db328c9df1e0bf74d41e528ddcfe410f63fef2316dcd7e7f4f48c1dc6c37)
      * src

        + [code\_unit\_verifier.rs](#diff-7f0c8325ecd48e4393af8abf80cc07781128ece472b396929015f03f68500ab0)
        + [lib.rs](#diff-d54fae1d51b8fd7e94cd9d50dd6616b5fabee7a2a14f46408b8ba331ab7cbb84)
        + regex\_reference\_safety

          - [abstract\_state.rs](#diff-2d82cc44bebd4ca9385c5b83b0ec43abc5d01a74e76172528046a4effb28cd8d)
          - [mod.rs](#diff-29e8259b698ff2c3958d9ccd1d90244e8293857a74de85f91ad556780a824148)
    - move-core-types/src

      * [vm\_status.rs](#diff-f402b0c1fc48e06b26f2fa2d4d50dfbd7226ce4106013a08d407c5b6fc1da780)
    - move-vm-config/src

      * [verifier.rs](#diff-8fbe25fdfbde5135e08e05db71a5b6d2fbc4fa90f1b8c572a838950695e03806)
  + move-execution

    - v0/crates/bytecode-verifier-tests/src/unit\_tests

      * [mod.rs](#diff-a5ada6b166ba243a3d09abd8b263f50c285afa58c3ea927ba5159b622bc5b3f5)
    - v1/crates/bytecode-verifier-tests/src/unit\_tests

      * [mod.rs](#diff-2ddb4e53069c4e8ae250673f988705d8247627edd3373e52d6a1a8b891693296)
    - v2/crates/bytecode-verifier-tests/src/unit\_tests

      * [mod.rs](#diff-47677ec2959df0a275a9c8c67350cee7d45deec9d3c3a5f11b0a1ce1dec94f45)
* sui-execution

  + latest

    - sui-adapter/src

      * [adapter.rs](#diff-0ed73194051abd608fdc7f714d3b0f5717179e7ef9f6d9dd6732db5703a3379b)
    - sui-move-natives/src/crypto

      * [poseidon.rs](#diff-e85bddfd26ab8bc4a0e875e04de9d155118a7165f5821f3844d359a72285974b)
    - sui-verifier/src

      * [lib.rs](#diff-b9bbb37547c92cc55bc04881299bbdd33eb77391a1661d99d7560908f47cd9ab)
  + src

    - [lib.rs](#diff-33c57d68a956b3c7f854c71370ae3d04ad80bdaf8a162d23e18813aae387c085)
    - [lib.template.rs](#diff-db0f2d37d1e1aa5234517c6713c8e6a9cdd1ef529b892c8ec4638e4bba8e1ad1)

Expand file treeCollapse file tree

## 31 files changed

+1461

-67

lines changed

Open diff view settings

Collapse file

### [`‎Cargo.lock‎`](#diff-13ee4b2252c9e516a0547f2891aa2105c3ca71c6d7a1e682c69be97998dfc87e)

Copy file name to clipboardExpand all lines: Cargo.lock

+1Lines changed: 1 addition & 0 deletions

Load DiffSome generated files are not rendered by default. Learn more about [customizing how changed files appear on GitHub.](https://docs.github.com/github/administering-a-repository/customizing-how-changed-files-appear-on-github)

Collapse file

### [`‎crates/sui-config/src/verifier_signing_config.rs‎`](#diff-24b60f4d13959d42f7d988fc56ab8f191785772dd3879baa00dcffbfc68dbc48)

Copy file name to clipboardExpand all lines: crates/sui-config/src/verifier\_signing\_config.rs

+12-1Lines changed: 12 additions & 1 deletion

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -12,6 +12,8 @@ pub const DEFAULT_MAX_PER_PKG_METER_UNITS: usize = 2_200_000;` | | | |
| `12` | `12` | `pub const DEFAULT_MAX_BACK_EDGES_PER_FUNCTION: usize = 10_000;` |
| `13` | `13` | `pub const DEFAULT_MAX_BACK_EDGES_PER_MODULE: usize = 10_000;` |
| `14` | `14` |  |
|  | `15` | `+ pub const DEFAULT_SANITY_CHECK_WITH_REGEX_REFERENCE_SAFETY_UNITS: usize = 2_200_000;` |
|  | `16` | `+` |
| `15` | `17` | `/// This holds limits that are only set and used by the verifier during signing _only_. There are` |
| `16` | `18` | `` /// additional limits in the `MeterConfig` and `VerifierConfig` that are used during both signing `` |
| `17` | `19` | `/// and execution, however those limits cannot be set here and must be protocol versioned.` |
| `@@ -29,6 +31,9 @@ pub struct VerifierSigningConfig {` | | | |
| `29` | `31` | `max_back_edges_per_function: Option<usize>,` |
| `30` | `32` | `#[serde(default)]` |
| `31` | `33` | `max_back_edges_per_module: Option<usize>,` |
|  | `34` | `+` |
|  | `35` | `+ #[serde(default)]` |
|  | `36` | `+ pub sanity_check_with_regex_reference_safety: Option<usize>,` |
| `32` | `37` | `}` |
| `33` | `38` |  |
| `34` | `39` | `impl VerifierSigningConfig {` |
| `@@ -57,11 +62,17 @@ impl VerifierSigningConfig {` | | | |
| `57` | `62` | `.unwrap_or(DEFAULT_MAX_BACK_EDGES_PER_MODULE)` |
| `58` | `63` | `}` |
| `59` | `64` |  |
|  | `65` | `+ pub fn sanity_check_with_regex_reference_safety(&self) -> usize {` |
|  | `66` | `+ self.sanity_check_with_regex_reference_safety` |
|  | `67` | `+ .unwrap_or(DEFAULT_SANITY_CHECK_WITH_REGEX_REFERENCE_SAFETY_UNITS)` |
|  | `68` | `+ }` |
|  | `69` | `+` |
| `60` | `70` | `/// Return sign-time only limit for back edges for the verifier.` |
| `61` |  | `- pub fn limits_for_signing(&self) -> (usize, usize) {` |
|  | `71` | `+ pub fn limits_for_signing(&self) -> (usize, usize, usize) {` |
| `62` | `72` | `(` |
| `63` | `73` | `self.max_back_edges_per_function(),` |
| `64` | `74` | `self.max_back_edges_per_module(),` |
|  | `75` | `+ self.sanity_check_with_regex_reference_safety(),` |
| `65` | `76` | `)` |
| `66` | `77` | `}` |
| `67` | `78` |  |
|  | | | |

Collapse file

### [`‎crates/sui-protocol-config/src/lib.rs‎`](#diff-192add9c4d4ccc2ca9fc09a7309312d12593d58089ad08f51d17fa4b312719a2)

Copy file name to clipboardExpand all lines: crates/sui-protocol-config/src/lib.rs

+16-5Lines changed: 16 additions & 5 deletions

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -4246,20 +4246,29 @@ impl ProtocolConfig {` | | | |
| `4246` | `4246` | `cfg` |
| `4247` | `4247` | `}` |
| `4248` | `4248` |  |
| `4249` |  | `` - // Extract the bytecode verifier config from this protocol config. `for_signing` indicates `` |
| `4250` |  | `- // whether this config is used for verification during signing or execution.` |
| `4251` |  | `- pub fn verifier_config(&self, signing_limits: Option<(usize, usize)>) -> VerifierConfig {` |
| `4252` |  | `- let (max_back_edges_per_function, max_back_edges_per_module) = if let Some((` |
|  | `4249` | `+ // Extract the bytecode verifier config from this protocol config.` |
|  | `4250` | `` + // If used during signing, `signing_limits` should be set. `` |
|  | `4251` | `` + // The third limit configures`sanity_check_with_regex_reference_safety`, `` |
|  | `4252` | `+ // which runs the new regex-based reference safety check to check that it is strictly more` |
|  | `4253` | `+ // permissive than the current implementation.` |
|  | `4254` | `+ pub fn verifier_config(&self, signing_limits: Option<(usize, usize, usize)>) -> VerifierConfig {` |
|  | `4255` | `+ let (` |
| `4253` | `4256` | `max_back_edges_per_function,` |
| `4254` | `4257` | `max_back_edges_per_module,` |
|  | `4258` | `+ sanity_check_with_regex_reference_safety,` |
|  | `4259` | `+ ) = if let Some((` |
|  | `4260` | `+ max_back_edges_per_function,` |
|  | `4261` | `+ max_back_edges_per_module,` |
|  | `4262` | `+ sanity_check_with_regex_reference_safety,` |
| `4255` | `4263` | `)) = signing_limits` |
| `4256` | `4264` | `{` |
| `4257` | `4265` | `(` |
| `4258` | `4266` | `Some(max_back_edges_per_function),` |
| `4259` | `4267` | `Some(max_back_edges_per_module),` |
|  | `4268` | `+ Some(sanity_check_with_regex_reference_safety),` |
| `4260` | `4269` | `)` |
| `4261` | `4270` | `} else {` |
| `4262` |  | `- (None, None)` |
|  | `4271` | `+ (None, None, None)` |
| `4263` | `4272` | `};` |
| `4264` | `4273` |  |
| `4265` | `4274` | `let additional_borrow_checks = if signing_limits.is_some() {` |
| `@@ -4295,6 +4304,8 @@ impl ProtocolConfig {` | | | |
| `4295` | `4304` | `additional_borrow_checks,` |
| `4296` | `4305` | `better_loader_errors: self.better_loader_errors(),` |
| `4297` | `4306` | `private_generics_verifier_v2: self.private_generics_verifier_v2(),` |
|  | `4307` | `+ sanity_check_with_regex_reference_safety: sanity_check_with_regex_reference_safety` |
|  | `4308` | `+ .map(|limit| limit as u128),` |
| `4298` | `4309` | `}` |
| `4299` | `4310` | `}` |
| `4300` | `4311` |  |
|  | | | |

Collapse file

### [`‎crates/sui-swarm-config/tests/snapshots/snapshot_tests__network_config_snapshot_matches.snap‎`](#diff-374913f0258ca6b4bf4a7fb97837cba79d952314e73716b967a307ea04a96e43)

Copy file name to clipboardExpand all lines: crates/sui-swarm-config/tests/snapshots/snapshot\_tests\_\_network\_config\_snapshot\_matches.snap

+7Lines changed: 7 additions & 0 deletions

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -162,6 +162,7 @@ validator_configs:` | | | |
| `162` | `162` | `max-per-pkg-meter-units: ~` |
| `163` | `163` | `max-back-edges-per-function: ~` |
| `164` | `164` | `max-back-edges-per-module: ~` |
|  | `165` | `+ sanity-check-with-regex-reference-safety: ~` |
| `165` | `166` | `transaction-driver-config:` |
| `166` | `167` | `enable-early-validation: true` |
| `167` | `168` | `- protocol-key-pair:` |
| `@@ -323,6 +324,7 @@ validator_configs:` | | | |
| `323` | `324` | `max-per-pkg-meter-units: ~` |
| `324` | `325` | `max-back-edges-per-function: ~` |
| `325` | `326` | `max-back-edges-per-module: ~` |
|  | `327` | `+ sanity-check-with-regex-reference-safety: ~` |
| `326` | `328` | `transaction-driver-config:` |
| `327` | `329` | `enable-early-validation: true` |
| `328` | `330` | `- protocol-key-pair:` |
| `@@ -484,6 +486,7 @@ validator_configs:` | | | |
| `484` | `486` | `max-per-pkg-meter-units: ~` |
| `485` | `487` | `max-back-edges-per-function: ~` |
| `486` | `488` | `max-back-edges-per-module: ~` |
|  | `489` | `+ sanity-check-with-regex-reference-safety: ~` |
| `487` | `490` | `transaction-driver-config:` |
| `488` | `491` | `enable-early-validation: true` |
| `489` | `492` | `- protocol-key-pair:` |
| `@@ -645,6 +648,7 @@ validator_configs:` | | | |
| `645` | `648` | `max-per-pkg-meter-units: ~` |
| `646` | `649` | `max-back-edges-per-function: ~` |
| `647` | `650` | `max-back-edges-per-module: ~` |
|  | `651` | `+ sanity-check-with-regex-reference-safety: ~` |
| `648` | `652` | `transaction-driver-config:` |
| `649` | `653` | `enable-early-validation: true` |
| `650` | `654` | `- protocol-key-pair:` |
| `@@ -806,6 +810,7 @@ validator_configs:` | | | |
| `806` | `810` | `max-per-pkg-meter-units: ~` |
| `807` | `811` | `max-back-edges-per-function: ~` |
| `808` | `812` | `max-back-edges-per-module: ~` |
|  | `813` | `+ sanity-check-with-regex-reference-safety: ~` |
| `809` | `814` | `transaction-driver-config:` |
| `810` | `815` | `enable-early-validation: true` |
| `811` | `816` | `- protocol-key-pair:` |
| `@@ -967,6 +972,7 @@ validator_configs:` | | | |
| `967` | `972` | `max-per-pkg-meter-units: ~` |
| `968` | `973` | `max-back-edges-per-function: ~` |
| `969` | `974` | `max-back-edges-per-module: ~` |
|  | `975` | `+ sanity-check-with-regex-reference-safety: ~` |
| `970` | `976` | `transaction-driver-config:` |
| `971` | `977` | `enable-early-validation: true` |
| `972` | `978` | `- protocol-key-pair:` |
| `@@ -1128,6 +1134,7 @@ validator_configs:` | | | |
| `1128` | `1134` | `max-per-pkg-meter-units: ~` |
| `1129` | `1135` | `max-back-edges-per-function: ~` |
| `1130` | `1136` | `max-back-edges-per-module: ~` |
|  | `1137` | `+ sanity-check-with-regex-reference-safety: ~` |
| `1131` | `1138` | `transaction-driver-config:` |
| `1132` | `1139` | `enable-early-validation: true` |
| `1133` | `1140` | `account_keys:` |
|  | | | |

Collapse file

### [`‎crates/sui/src/client_commands.rs‎`](#diff-54526361851ee1890c62aa4e80af4a861b76db01386c3760de9f2fcc979432e4)

Copy file name to clipboardExpand all lines: crates/sui/src/client\_commands.rs

+2-1Lines changed: 2 additions & 1 deletion

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -1161,7 +1161,8 @@ impl SuiClientCommands {` | | | |
| `1161` | `1161` | `}` |
| `1162` | `1162` | `};` |
| `1163` | `1163` |  |
| `1164` |  | `- let signing_limits = Some(VerifierSigningConfig::default().limits_for_signing());` |
|  | `1164` | `+ let limits = VerifierSigningConfig::default();` |
|  | `1165` | `+ let signing_limits = Some(limits.limits_for_signing());` |
| `1165` | `1166` | `let mut verifier = sui_execution::verifier(` |
| `1166` | `1167` | `&protocol_config,` |
| `1167` | `1168` | `signing_limits,` |
|  | | | |

Collapse file

### [`‎external-crates/move/Cargo.lock‎`](#diff-bf55bb4557546ab9e06917e30a96668a321ceb607dca60176011f4bedbec4eee)

Copy file name to clipboardExpand all lines: external-crates/move/Cargo.lock

+1Lines changed: 1 addition & 0 deletions

Load DiffSome generated files are not rendered by default. Learn more about [customizing how changed files appear on GitHub.](https://docs.github.com/github/administering-a-repository/customizing-how-changed-files-appear-on-github)

Collapse file

### [`‎external-crates/move/crates/bytecode-verifier-tests/src/unit_tests/binary_samples.rs‎`](#diff-9ebb4d2f587959656dd31911481d53c92ead4751c0af577b76f6bc004fb003aa)

Copy file name to clipboardExpand all lines: external-crates/move/crates/bytecode-verifier-tests/src/unit\_tests/binary\_samples.rs

-35Lines changed: 0 additions & 35 deletions

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -32,42 +32,7 @@ macro_rules! do_test {` | | | |
| `32` | `32` | `}};` |
| `33` | `33` | `}` |
| `34` | `34` |  |
| `35` |  | `- #[test]` |
| `36` |  | `- fn aptosd_swap() {` |
| `37` |  | `- do_test!("aptosd_swap");` |
| `38` |  | `- }` |
| `39` |  | `-` |
| `40` |  | `- #[test]` |
| `41` |  | `- fn coin_store() {` |
| `42` |  | `- do_test!("coin_store");` |
| `43` |  | `- }` |
| `44` |  | `-` |
| `45` |  | `- #[test]` |
| `46` |  | `- fn farming() {` |
| `47` |  | `- do_test!("farming");` |
| `48` |  | `- }` |
| `49` |  | `-` |
| `50` |  | `- #[test]` |
| `51` |  | `- fn liquidity_pool() {` |
| `52` |  | `- do_test!("liquidity_pool");` |
| `53` |  | `- }` |
| `54` |  | `-` |
| `55` |  | `- #[test]` |
| `56` |  | `- fn price_oracle() {` |
| `57` |  | `- do_test!("price_oracle");` |
| `58` |  | `- }` |
| `59` |  | `-` |
| `60` |  | `- #[test]` |
| `61` |  | `- fn pool() {` |
| `62` |  | `- do_test!("pool");` |
| `63` |  | `- }` |
| `64` |  | `-` |
| `65` | `35` | `#[test]` |
| `66` | `36` | `fn router() {` |
| `67` | `37` | `do_test!("router");` |
| `68` | `38` | `}` |
| `69` |  | `-` |
| `70` |  | `- #[test]` |
| `71` |  | `- fn whitelist() {` |
| `72` |  | `- do_test!("whitelist");` |
| `73` |  | `- }` |

Collapse file

### [`‎external-crates/move/crates/bytecode-verifier-tests/src/unit_tests/mod.rs‎`](#diff-8d771fffa482597c22429d35ee9d3799eda3a5e6a8860b20b83d08fcc610b293)

Copy file name to clipboardExpand all lines: external-crates/move/crates/bytecode-verifier-tests/src/unit\_tests/mod.rs

+1Lines changed: 1 addition & 0 deletions

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -56,6 +56,7 @@ pub(crate) fn production_config() -> (VerifierConfig, MeterConfig) {` | | | |
| `56` | `56` | `additional_borrow_checks: true,` |
| `57` | `57` | `better_loader_errors: true,` |
| `58` | `58` | `private_generics_verifier_v2: false,` |
|  | `59` | `+ sanity_check_with_regex_reference_safety: Some(2_200_000),` |
| `59` | `60` | `},` |
| `60` | `61` | `MeterConfig::old_default(),` |
| `61` | `62` | `)` |
|  | | | |

Collapse file

### [`‎external-crates/move/crates/bytecode-verifier-tests/src/unit_tests/reference_safety_tests.rs‎`](#diff-1be478528d59457802bdcec5658ebd6a8d0098bd6c046615c37e21989dfc6cf8)

Copy file name to clipboardExpand all lines: external-crates/move/crates/bytecode-verifier-tests/src/unit\_tests/reference\_safety\_tests.rs

+1-1Lines changed: 1 addition & 1 deletion

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| `@@ -360,7 +360,7 @@ fn test_merge_state() {` | | | |
| `360` | `360` | `);` |
| `361` | `361` | `assert_eq!(` |
| `362` | `362` | `result.unwrap_err().major_status(),` |
| `363` |  | `- StatusCode::CONSTRAINT_NOT_SATISFIED` |
|  | `363` | `+ StatusCode::PROGRAM_TOO_COMPLEX` |
| `364` | `364` | `);` |
| `365` | `365` | `}` |
| `366` | `366` |  |
|  | | | |

Collapse file

### [`‎external-crates/move/crates/bytecode-verifier-tests/tests/binaries/aptosd_swap.bytes‎`](#diff-d6d8fa970b84eac961f7ead3877ee81aded2bfa9abb1f3391dec734c7a73bed6)

Copy file name to clipboardExpand all lines: external-crates/move/crates/bytecode-verifier-tests/tests/binaries/aptosd\_swap.bytes

-1Lines changed: 0 additions & 1 deletion

Load DiffThis file was deleted.

## 0 commit comments

Comments

0 (0)

You can’t perform that action at this time.